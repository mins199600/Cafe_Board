<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="hello.sailing.v1.dao.MenuDao">

    <!--조회-->
    <select id="doList" resultType="java.util.Map">
        select no,
               coffee,
               kind,
               price,
               date_format(reg_day,'%Y,%m,%d')as reg_day,
               date_format(mod_day,'%y,%m,%d')as mod_day
        from coffee_menu
    </select>

    <!--메뉴조회-->
    <select id="doListOne" resultType="java.util.Map">
        select no,
        coffee,
        kind,
        price,
        date_format(reg_day,'%Y,%m,%d')as reg_day,
        date_format(mod_day,'%y,%m,%d')as mod_day
        from coffee_menu
        where no = cast(#{strNo} as Integer)
    </select>


    <insert id="doInsert">
        Insert Into coffee_menu(coffee,kind,price)
        values(#{strCoffee},#{strKind},cast(#{strPrice} as Integer))
    </insert>

    <update id="doUpdate">
        update coffee_menu set
            coffee = #{strCoffee},
            kind = #{strKind},
            price = cast(#{strPrice} as Integer)
        where no = cast(#{strNo} as Integer)
    </update>

    <delete id="doDelete">
        Delete from coffee_menu where no = cast(#{strNo} as Integer)
    </delete>
</mapper>